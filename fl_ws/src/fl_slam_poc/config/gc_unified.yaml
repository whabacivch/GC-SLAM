gc_sensor_hub:
  ros__parameters:
    pointcloud_passthrough:
      input_topic: /acl_jackal/lidar_points
      output_topic: /gc/sensors/lidar_points
      qos_depth: 10
      publish_time_reference: false
gc_backend:
  ros__parameters:
    lidar_topic: /gc/sensors/lidar_points
    odom_topic: /acl_jackal/jackal_velocity_controller/odom
    imu_topic: /acl_jackal/forward/imu
    odom_frame: acl_jackal2/odom
    base_frame: acl_jackal2/base
    pointcloud_layout: vlp16
    lidar_sigma_meas: 1e-3
    extrinsics_source: inline
    T_base_lidar:
    - -0.065447
    - -0.100474
    - 0.108987
    - -0.002723
    - -0.069383
    - 0.028979
    T_base_imu:
    - -0.01602
    - -0.03022
    - 0.0074
    - -1.602673
    - 0.002595
    - 0.0
    trajectory_export_path: /tmp/gc_slam_trajectory.tum
    status_check_period_sec: 5.0
    init_window_odom_count: 10
    enable_timing: false
    enable_parallel_stages: true
    time_alignment_profile: /home/will/Documents/Coding/Phantom Fellowship MIT/Impact_Project_v1/config/time_alignment/kimera_10_14_acl_jackal_005.yaml
    time_alignment_reference_topic: /acl_jackal/lidar_points
    map_backend: primitive_map
    pose_evidence_backend: primitives
    eps_psd: 1e-12
    eps_lift: 1e-9
    eps_mass: 1e-12
    alpha_min: 1.0
    alpha_max: 1.0
    kappa_scale: 1.0
    c0_cond: 1e6
    power_beta_min: 0.25
    power_beta_exc_c: 50.0
    power_beta_z_c: 1.0
    c_dt: 1.0
    c_ex: 1.0
    c_frob: 1.0
    planar_z_ref: 0.0
    planar_z_sigma: 0.1
    planar_vz_sigma: 0.01
    enable_planar_prior: true
    enable_odom_twist: true
    odom_twist_vel_sigma: 0.1
    odom_twist_wz_sigma: 0.01
    odom_z_variance_prior: 1000000.0
    ot_epsilon: 0.1
    ot_tau_a: 0.5
    ot_tau_b: 0.5
    n_feat: 256
    n_surfel: 512
    k_assoc: 8
    k_sinkhorn: 50
    k_insert_tile: 64
    k_merge_pairs_tile: 4
    primitive_map_max_size: 50000
    primitive_forgetting_factor: 0.999
    primitive_merge_threshold: 0.1
    primitive_cull_weight_threshold: 1e-4
    surfel_voxel_size_m: 0.1
    surfel_min_points_per_voxel: 3
    save_full_diagnostics: false
    # Phase 6 tiling budgets (spec ยง5.7) - wiring starts in Phase 6
    H_TILE: 2.0
    N_ACTIVE_TILES: 7
    R_ACTIVE_TILES_XY: 1
    R_ACTIVE_TILES_Z: 0
    M_TILE_VIEW: 1024
    N_STENCIL_TILES: 7
    R_STENCIL_TILES_XY: 1
    R_STENCIL_TILES_Z: 0
    camera_rgbd_topic: /gc/sensors/camera_rgbd
    visual_feature_topic: /gc/sensors/visual_features
    # Camera intrinsics from /acl_jackal/forward/color/camera_info (bag: rosbags/Kimera_Data/ros2/10_14_acl_jackal-005)
    camera_K:
    - 381.1208801269531
    - 380.8488464355469
    - 315.84698486328125
    - 238.04495239257812
    # Camera extrinsics from Kimera calibration (rosbags/Kimera_Data/calibration/robots/acl_jackal2/extrinsics.yaml)
    # T_base_camera = T_baselink_cameralink * T_cameralink_color * T_color_coloroptical
    T_base_camera:
    - -0.000350560847437009
    - -0.0591941364109516
    - -3.60944468411617e-05
    - -1.2050948896783733
    - 1.2029133448798226
    - -1.2098522090423594
    ringbuf_len: 5
    rerun_spawn: true
    bev_backend_enabled: false
    bev_views_n: 0
    visual_feature_depth_sample_mode: median3
    visual_feature_pixel_sigma: 1.0
    visual_feature_orb_nlevels: 8
    visual_feature_orb_scale_factor: 1.2
    visual_feature_depth_model: linear
    visual_feature_depth_sigma0: 0.01
    visual_feature_depth_sigma_slope: 0.01
    visual_feature_min_depth_m: 0.05
    visual_feature_max_depth_m: 80.0
    visual_feature_depth_validity_slope: 5.0
    visual_feature_response_soft_scale: 50.0
    visual_feature_depth_scale: 1.0
    visual_feature_cov_reg_eps: 1.0e-09
    visual_feature_invalid_cov_inflate: 1000000.0
    visual_feature_hex_radius: 2
    visual_feature_quad_fit_radius: 2
    visual_feature_quad_fit_min_points: 6
    visual_feature_quad_fit_lstsq_eps: 1.0e-08
    visual_feature_student_t_nu: 3.0
    visual_feature_student_t_w_min: 0.1
    visual_feature_ma_tau: 10.0
    visual_feature_ma_delta_inflate: 0.0001
    visual_feature_kappa0: 1.0
    visual_feature_kappa_alpha: 10.0
    visual_feature_kappa_max: 100.0
    visual_feature_kappa_min: 0.1
